<!DOCTYPE html>
<html lang="zh-Hant">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>9INNINGS25 Skill-emulator</title>
  <link rel="stylesheet" href="navigation.css">
  <link rel="stylesheet" href="skill.css">
  <script src="skill.js"></script>
  <style>
    /* 改善整體佈局 */
    body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #000000;
      user-select: none;
      overflow: auto;
    }

    .main-content {
      width: 100%;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      box-sizing: border-box;
    }

    .container {
      display: flex;
      gap: 40px;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
      max-width: 100%;
      margin: auto;
    }

    /* 開關位置調整 - 確保不被遮擋 */
    .switch {
      position: fixed;
      top: 80px;
      left: 20px;
      display: flex;
      align-items: center;
      cursor: pointer;
      user-select: none;
      z-index: 997;
      background: rgba(0, 0, 0, 0.7);
      padding: 8px 12px;
      border-radius: 25px;
      backdrop-filter: blur(10px);
    }

    /* 響應式設計 - 平板橫向 */
    @media (max-width: 1024px) and (orientation: landscape) {
      body {
        padding: 15px 0;
      }

      .main-content {
        padding: 15px;
        min-height: auto;
      }

      .container {
        gap: 30px;
        transform: scale(0.85);
      }

      .switch {
        top: 70px;
        left: 15px;
        transform: scale(0.9);
      }

      .skill-box-left, .skill-box-right {
        width: 250px !important;
        height: 420px !important;
      }

      .card1, .card2 {
        width: 250px !important;
        height: 380px !important;
      }

      .select-skill {
        height: 35px !important;
        font-size: 20px !important;
      }
    }

    /* 響應式設計 - 手機橫向 */
    @media (max-width: 768px) and (orientation: landscape) {
      body {
        padding: 10px 0;
      }

      .main-content {
        padding: 10px;
        min-height: auto;
      }

      .container {
        gap: 20px;
        transform: scale(0.7);
      }

      .switch {
        top: 65px;
        left: 10px;
        transform: scale(0.85);
      }

      .skill-box-left, .skill-box-right {
        width: 220px !important;
        height: 370px !important;
      }

      .card1, .card2 {
        width: 220px !important;
        height: 330px !important;
      }

      .select-skill {
        height: 30px !important;
        font-size: 18px !important;
      }

      .skill-changes-container {
        transform: scale(0.9);
      }

      /* 彈出視窗調整 */
      .choose-skill-container,
      .confirm-box,
      .selection-container {
        width: 90vw !important;
        max-width: 700px !important;
        height: auto !important;
        max-height: 85vh !important;
        overflow-y: auto;
      }
    }

    /* 響應式設計 - 手機直向 */
    @media (max-width: 768px) and (orientation: portrait) {
      .main-content {
        padding: 80px 15px 20px;
        min-height: 100vh;
      }

      .container {
        flex-direction: column;
        gap: 30px;
      }

      .switch {
        top: 75px;
        left: 15px;
      }

      .skill-box-left, .skill-box-right {
        width: 280px !important;
        height: 470px !important;
      }

      .card1, .card2 {
        width: 280px !important;
        height: 420px !important;
      }

      .skill-changes-container {
        width: 100%;
        max-width: 350px;
      }

      .skill-changes {
        height: 400px !important;
      }

      /* 彈出視窗調整 */
      .choose-skill-container,
      .confirm-box,
      .selection-container {
        width: 90vw !important;
        max-width: 350px !important;
        height: auto !important;
        max-height: 80vh !important;
        overflow-y: auto;
      }
    }

    /* 小螢幕橫向 - 更激進的縮放 */
    @media (max-height: 500px) and (orientation: landscape) {
      .container {
        transform: scale(0.6);
        gap: 15px;
      }

      .switch {
        top: 55px;
        left: 8px;
        transform: scale(0.75);
      }

      .skill-box-left, .skill-box-right {
        width: 200px !important;
        height: 330px !important;
      }

      .card1, .card2 {
        width: 200px !important;
        height: 290px !important;
      }

      .select-skill {
        height: 28px !important;
        font-size: 16px !important;
      }
    }

    /* 確保彈出視窗可滾動且不超出螢幕 */
    .choose-skill-container,
    .confirm-box,
    .selection-container {
      position: fixed;
      max-height: 90vh;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }

    /* 改善滾動條樣式 */
    .choose-skill-container::-webkit-scrollbar,
    .confirm-box::-webkit-scrollbar,
    .selection-container::-webkit-scrollbar {
      width: 8px;
    }

    .choose-skill-container::-webkit-scrollbar-track,
    .confirm-box::-webkit-scrollbar-track,
    .selection-container::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
    }

    .choose-skill-container::-webkit-scrollbar-thumb,
    .confirm-box::-webkit-scrollbar-thumb,
    .selection-container::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.3);
      border-radius: 4px;
    }
  </style>
</head>

  <!-- 主內容 -->
  <div class="main-content">
    <label class="switch">
      <input type="checkbox" id="toggleSwitch" onclick="toggleSkill(this)" />
      <span class="slider"></span>
      <span class="label-text" id="labelText">打者</span>
    </label>
    <div class="container">
      <div class="selection-container" style="display: none;">
        <div class="selection-box-banner"></div>
        <div class="skill-box1" onclick="select_svg(this)">
          <div class="selection-skill-box1">
            <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="50.0pt" height="50.0pt" viewBox="0 0 105.000000 99.000000" preserveAspectRatio="xMidYMid meet">
              <g transform="translate(0.000000,99.000000) scale(0.100000,-0.100000)" fill="#051350" stroke="none">
                <path class="p1" fill＝"#051350" d="M894 728 c-22 -18 -126 -111 -231 -205 -106 -95 -198 -173 -204 -173 -6 0 -60 36 -120 80 -60 44 -116 83 -125 87 -14 5 -15 3 -4 -17 28 -52 243 -370 250 -370 9 0 66 72 309 393 95 126 171 231 168 233 -3 3 -22 -10 -43 -28z" />
                <path d="M180 661 c0 -55 3 -63 33 -90 17 -17 35 -31 39 -31 4 0 8 21 10 48 l3 47 220 5 220 5 37 30 c21 17 38 33 38 38 0 4 -135 7 -300 7 l-300 0 0 -59z" />
                <path d="M755 433 c-39 -46 -40 -50 -45 -138 l-5 -90 -72 -3 c-69 -3 -74 -5 -98 -36 -14 -18 -25 -36 -25 -40 0 -3 66 -5 148 -4 l147 3 3 169 c1 93 -1 173 -6 178 -4 4 -26 -13 -47 -39z" />
                <path d="M182 273 l3 -148 113 -3 c122 -3 126 0 92 48 -18 25 -29 29 -73 32 l-52 3 -3 75 c-3 69 -6 78 -34 108 -18 17 -36 32 -40 32 -5 0 -7 -66 -6 -147z" />
              </g>
            </svg>
            <div class="selection-skill-box-original-1"></div>
          </div>
        </div>
        <hr class="line">
        <div class="skill-box2" onclick="select_svg(this)">
          <div class="selection-skill-box2">
            <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="50.0pt" height="50.0pt" viewBox="0 0 105.000000 99.000000" preserveAspectRatio="xMidYMid meet">
              <g transform="translate(0.000000,99.000000) scale(0.100000,-0.100000)" fill="#051350" stroke="none">
                <path class="p2" fill＝"#051350" d="M894 728 c-22 -18 -126 -111 -231 -205 -106 -95 -198 -173 -204 -173 -6 0 -60 36 -120 80 -60 44 -116 83 -125 87 -14 5 -15 3 -4 -17 28 -52 243 -370 250 -370 9 0 66 72 309 393 95 126 171 231 168 233 -3 3 -22 -10 -43 -28z" />
                <path d="M180 661 c0 -55 3 -63 33 -90 17 -17 35 -31 39 -31 4 0 8 21 10 48 l3 47 220 5 220 5 37 30 c21 17 38 33 38 38 0 4 -135 7 -300 7 l-300 0 0 -59z" />
                <path d="M755 433 c-39 -46 -40 -50 -45 -138 l-5 -90 -72 -3 c-69 -3 -74 -5 -98 -36 -14 -18 -25 -36 -25 -40 0 -3 66 -5 148 -4 l147 3 3 169 c1 93 -1 173 -6 178 -4 4 -26 -13 -47 -39z" />
                <path d="M182 273 l3 -148 113 -3 c122 -3 126 0 92 48 -18 25 -29 29 -73 32 l-52 3 -3 75 c-3 69 -6 78 -34 108 -18 17 -36 32 -40 32 -5 0 -7 -66 -6 -147z" />
              </g>
            </svg>
            <div class="selection-skill-box-original-2"></div>
          </div>
        </div>
        <hr class="line">
        <div class="skill-box3" onclick="select_svg(this)">
          <div class="selection-skill-box3">
            <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="50.0pt" height="50.0pt" viewBox="0 0 105.000000 99.000000" preserveAspectRatio="xMidYMid meet">
              <g transform="translate(0.000000,99.000000) scale(0.100000,-0.100000)" fill="#051350" stroke="none">
                <path class="p3" fill＝"#051350" d="M894 728 c-22 -18 -126 -111 -231 -205 -106 -95 -198 -173 -204 -173 -6 0 -60 36 -120 80 -60 44 -116 83 -125 87 -14 5 -15 3
             -4 -17 28 -52 243 -370 250 -370 9 0 66 72 309 393 95 126 171 231 168 233 -3 3 -22 -10 -43 -28z" />
                <path d="M180 661 c0 -55 3 -63 33 -90 17 -17 35 -31 39 -31 4 0 8 21 10 48 l3 47 220 5 220 5 37 30 c21 17 38 33 38 38 0 4 -135 7 -300 7 l-300 0 0 -59z" />
                <path d="M755 433 c-39 -46 -40 -50 -45 -138 l-5 -90 -72 -3 c-69 -3 -74 -5 -98 -36 -14 -18 -25 -36 -25 -40 0 -3 66 -5 148 -4 l147 3 3 169 c1 93 -1 173 -6 178 -4 4 -26 -13 -47 -39z" />
                <path d="M182 273 l3 -148 113 -3 c122 -3 126 0 92 48 -18 25 -29 29 -73 32 l-52 3 -3 75 c-3 69 -6 78 -34 108 -18 17 -36 32 -40 32 -5 0 -7 -66 -6 -147z" />
              </g>
            </svg>
            <div class="selection-skill-box-original-3"></div>
          </div>
        </div>
        <div class="selection-footer">
          <div class="selection-btn-1" onclick="document.querySelector('.selection-container').style.display = 'none';document.querySelector('.switch').style.display = 'flex';">否</div>
        <button class="selection-btn-2" onclick="ChangeSkill();">是</button>
        </div>
      </div>
      <div class="choose-skill-container" style="display: none;">
        <div class="choose-skill-banner">變更技能</div>
        <div class="choose-skill-text">您確定要變更為新的技能嗎?</div>
        <div class="btn-box">
          <button class="btn-1" onclick=closeChooseSkillContainer()>否</button>
          <button class="btn-2" onclick=replaceSkill()>是</button>
        </div>
      </div>
      <div class="skill-box-left">
        <div class="select-skill" style="display: none;">保留技能</div>
        <div class="card1" onclick="chooseSkill(this)">
          <div class="skill-box">
            <div class="skill-1"></div>
            <div class="skill-2"></div>
            <div class="skill-3"></div>
          </div>
        </div>
      </div>
      <div class="skill-box-right" style="display: none;">
        <div class="select-skill">變更技能</div>
        <div class="card2" onclick="chooseSkill(this)">
          <div class="skill-box">
            <div class="skill-1"></div>
            <div class="skill-2"></div>
            <div class="skill-3"></div>
          </div>
        </div>
      </div>
      <div class="skill-changes-container" style="display: block;">
        <div class="skill-changes">
          <div class="skill-change" onclick="toggleOverlay(this)">
            <div class="skill-change-icon"></div>
            <div>高級技能變更券</div>
            <div></div>
            <div>x100</div>
            <div class="mask" style="display:block;"></div>
          </div>
          <div class="skill-change" onclick="toggleOverlay(this)">
            <div class="ultimate-skill-change-icon"></div>
            <div>最高級技能變更券</div>
            <div></div>
            <div>x100</div>
            <div class="mask" style="display: none;"></div>
          </div>
          <div class="skill-change" onclick="toggleOverlay(this)">
            <div class="legend-skill-change-icon"></div>
            <div>傳說技能變更券</div>
            <div></div>
            <div>x100</div>
            <div class="mask" style="display: none;"></div>
          </div>
          <div class="skill-change" onclick="toggleOverlay(this)">
            <div class="legend-skill-select-change-icon"></div>
            <div>傳說技能選擇變更券</div>
            <div></div>
            <div>x100</div>
            <div class="mask" style="display: none;"></div>
          </div>
          <div class="skill-change" onclick="toggleOverlay(this)">
            <div class="skill-select-change-icon"></div>
            <div>技能選擇變更券</div>
            <div></div>
            <div>x100</div>
            <div class="mask" style="display: none;"></div>
          </div>
          <div class="skill-change" onclick="toggleOverlay(this)">
            <div class="premium-skill-select-change-icon"></div>
            <div>高級技能選擇變更券</div>
            <div></div>
            <div>x100</div>
            <div class="mask" style="display: none;"></div>
          </div>
          <div class="skill-change" onclick="toggleOverlay(this)">
            <div class="skill-protect-change-icon"></div>
            <div>技能變更保護券</div>
            <div></div>
            <div>x100</div>
            <div class="mask" style="display: none;"></div>
          </div>
          <div class="skill-change" onclick="toggleOverlay(this)">
            <div class="premium-skill-protect-change-icon"></div>
            <div>高級技能變更保護券</div>
            <div></div>
            <div>x100</div>
            <div class="mask" style="display: none;"></div>
          </div>
        </div>
        <div class="use-skill-changes-container">
          <button class="use-skill-changes" onclick=use_skill()>
          </button>
        </div>
      </div>
    </div>
    <!-- container -->

    <div class="confirm-box" style="display: none;">
      <div class="name-banner">高級技能變更券</div>
      <div class="skill-box-banner">技能保管箱1</div>

      <div class="skill-box1">
        <div class="skill-box-original-1"></div>
      </div>

      <div class="skill-box2">
        <div class="skill-box-original-2"></div>
      </div>

      <div class="skill-box3">
        <div class="skill-box-original-3"></div>
      </div>
      <div class="text">請問要在
        <span>S.Ohtani'24</span>
        球員上使用技能變更券嗎？<br>
        全部的技能將會隨機產生，<br>
        且技能經驗值和技能強化次數也會被初始化。<br>
      </div>
      <div class="btn-box">
        <div class="btn-1" onclick="document.querySelector('.confirm-box').style.display = 'none';document.querySelector('.switch').style.display = 'flex';">否</div>
        <button class="btn-2" onclick="ChangeSkill()">是</button>
      </div>
    </div>
  </div>

  <script src="navigation.js"></script>
  <script>
    document.getElementById('labelText').style.color = 'crimson';
  </script>
</body>
</html>